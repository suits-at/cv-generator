<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CV Generator</title>
  <!--chart.js-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
  <!--googe charts-->
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <!--html2canvas-->
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <!-- fontawesome-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!--google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
  <style>
    html {
      font-family: 'Work Sans', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      color: #444;

      /* enable smoother fonts */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    #container{
      width: 1000px;
    }
    #legend p{
      font-size: 16px;
      font-weight: bold;
      margin-top: 5px;
    }
    .fa {
      font-size: 3rem;
    }
    #digital{
      display: grid;
      grid-template-columns: 3fr 7fr;
      grid-gap: 10vmin;
    }
    #proficiencyLevel{
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
    }
    #proficiencyLevel p{
      margin-bottom: 7px;
    }
    #legend{
      text-align: right;
    }
  </style>
</head>
<body>
<div id="container">
<h1>Schul- und Berufsausbildung / Berufserfahrung</h1>
<div id="timeline" style="height: 400px;"></div>
<div id="canvas-holder" style="width:50%">
  <h1>Sprachkenntnisse</h1>
  <canvas id="chart-area"></canvas>
</div>

<h1>Digitale Kompetenzen</h1>
<div id="digital">
  <div id="legend">
  <div class="star">
    <i class="fa fa-star" aria-hidden="true"></i>
    <i class="fa fa-star-o" aria-hidden="true"></i>
    <i class="fa fa-star-o" aria-hidden="true"></i>
    <p>elementare Verwendung</p>
  </div>
  <div class="star">
    <i class="fa fa-star" aria-hidden="true"></i>
    <i class="fa fa-star" aria-hidden="true"></i>
    <i class="fa fa-star-o" aria-hidden="true"></i>
    <p>selbstständige Verwendung</p>
  </div>
  <div class="star">
    <i class="fa fa-star" aria-hidden="true"></i>
    <i class="fa fa-star" aria-hidden="true"></i>
    <i class="fa fa-star" aria-hidden="true"></i>
    <p>kompetente Verwendung</p>
  </div>
  </div>
  <div id="proficiencyLevel">
    <div class="star">
      <p>Datenverarbeitung</p>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
    </div>
    <div class="star">
      <p>Kommunikation</p>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star-o" aria-hidden="true"></i>
    </div>
    <div class="star">
      <p>Erstellung von Inhalten</p>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
    </div>
    <div class="star">
      <p>Sicherheit</p>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star-o" aria-hidden="true"></i>
    </div>
    <div class="star">
      <p>Problemlösung</p>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
      <i class="fa fa-star" aria-hidden="true"></i>
    </div>
  </div>
</div>
<!--<button id="download">download Images</button>-->
</div>
<!--google charts timeline-->
<script type="text/javascript">
  google.charts.load("current", {packages: ["timeline"]});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    const container = document.getElementById('timeline');
    const chart = new google.visualization.Timeline(container);
    const dataTable = new google.visualization.DataTable();
    dataTable.addColumn({type: 'string', id: 'Position'});
    dataTable.addColumn({type: 'string', id: 'Name'});
    dataTable.addColumn({type: 'date', id: 'Start'});
    dataTable.addColumn({type: 'date', id: 'End'});
    dataTable.addRows([
      ['Schul- und Berufssbildung', 'Matura, HTBLA Rennweg', new Date(2005, 7, 1), new Date(2010, 6, 1)],
      ['.', 'Bachelor of Arts in Social Sciences, FH Oberösterreich', new Date(2012, 2, 4), new Date(2015, 2, 4)],
      ['.', 'Dipl. Ing., FH St. Pölten', new Date(2015, 2, 4), new Date(2018, 2, 4)],
      ['Berufserfahrung', 'Angestellter in der EDV-Abteilung, Wiener Hilfwerk', new Date(2010, 3, 21), new Date(2012, 2, 4)],
      ['.', 'Berufspraktikum als Webdeveloper, Typoheads GmbH', new Date(2016, 2, 4), new Date(2016, 8, 4)],
      ['.', 'Webdeveloper, selbstständig', new Date(2016, 2, 4), new Date(2017, 2, 4)],
    ]);

    const options = {
      timeline: {
        groupByRowLabel: false,
        colorByRowLabel: false,
        showRowLabels: true,
        rowLabelStyle: {
          fontName: "'Work Sans', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
          color: '#444',
          fontSize: 14
        },
        barLabelStyle: {
          fontName: "'Work Sans', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
          color: '#444',
          fontSize: 14
        }
      },
      colors: ['#deebf7', '#deebf7', '#deebf7', '#9ecae1', '#9ecae1', '#9ecae1'],
    };
    chart.draw(dataTable, options);
  }
</script>

<!--chart.js polar area chart-->
<script>
  const randomScalingFactor = function() {
    return Math.round(Math.random() * 6);
  };

  window.chartColors = {
    red: '#f0f9e8',
    orange: '#bae4bc',
    yellow: '#7bccc4',
    green: '#43a2ca',
    blue: '#0868ac',
  };

  const chartColors = window.chartColors;
  const color = Chart.helpers.color;
  Chart.defaults.global.defaultFontColor = '#444';
  Chart.defaults.global.defaultFontFamily = "'Work Sans', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif";
  Chart.defaults.global.defaultFontSize = 14;

  const config = {
    data: {
      datasets: [{
        data: [
          randomScalingFactor(),
          randomScalingFactor(),
          randomScalingFactor(),
          randomScalingFactor(),
          randomScalingFactor(),
        ],
        backgroundColor: [
          color(chartColors.red).alpha(0.6).rgbString(),
          color(chartColors.orange).alpha(0.8).rgbString(),
          color(chartColors.yellow).alpha(0.8).rgbString(),
          color(chartColors.green).alpha(0.8).rgbString(),
          color(chartColors.blue).alpha(0.8).rgbString(),
        ],
        label: 'Sprachen' // for legend
      }],
      labels: [
        "Hören",
        "Lesen",
        "An Gesprächen teilnehmen",
        "Zusammenhängendes Sprechen",
        "Schreiben"
      ]
    },
    options: {
      responsive: true,
      legend: {
        position: 'left',
      },
      title: {
        display: true,
        text: 'Deutsch'
      },
      tooltips: {
        enabled: false
      },
      // startAngle: 2.5 * Math.PI, //gelb
      startAngle: 1.3 * Math.PI, //für rot
      scale: {
        ticks: {
          beginAtZero: false,
          min: 0,
          max: 6,
          maxTicksLimit: 6,
          suggestedMin: 6,
          suggestedMax: 6,
          stepSize: 1,
          callback: function(label) {
            switch (label) {
              case 0:
                return 'ZERO';
              case 1:
                return 'A1';
              case 2:
                return 'A2';
              case 3:
                return 'B1';
              case 4:
                return 'B2';
              case 5:
                return 'C1';
              case 6:
                return 'C2';
            }
          }
        },
        reverse: false
      },
      animation: {
        animateRotate: true,
        animateScale: true
      }
    }
  };

  window.onload = function() {
    const ctx = document.getElementById("chart-area");
    window.myPolarArea = Chart.PolarArea(ctx, config);
  };

</script>
<!--createImage from timeline and proficiencyLevel-->
<script>
  //document ready
  function r(f){/in/.test(document.readyState)?setTimeout('r('+f+')',9):f()}
  r(function(){
    //convert timeline to image
    html2canvas(document.querySelector("#timeline")).then(canvas => {
      const item = document.querySelector("#timeline");
      item.innerHTML = '';
      item.appendChild(canvas);
    });

    //convert proficiencyLevel to image
    html2canvas(document.querySelector("#digital")).then(canvas => {
      const item = document.querySelector("#digital");
      item.innerHTML = '';
      item.appendChild(canvas);
    });
  });

</script>
</body>
</html>
